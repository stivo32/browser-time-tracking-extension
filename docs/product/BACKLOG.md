# Product Backlog
## Browser Time Tracking Extension

| ID | Story | Priority | Estimate (h) | Dependencies | Phase |
|----|-------|----------|--------------|--------------|-------|
| **PHASE 1: MVP (Local Storage)** |
| BTE-001 | Создать базовую структуру расширения браузера | Must | 8 | - | 1 |
| BTE-002 | Реализовать отслеживание активности вкладок | Must | 12 | BTE-001 | 1 |
| BTE-003 | Создать систему локального хранения данных | Must | 6 | BTE-001 | 1 |
| BTE-004 | Разработать UI для отображения статистики | Must | 16 | BTE-002, BTE-003 | 1 |
| BTE-005 | Реализовать группировку по доменам | Must | 8 | BTE-002, BTE-003 | 1 |
| BTE-006 | Создать детальный просмотр по страницам | Must | 10 | BTE-005 | 1 |
| BTE-007 | Добавить календарный вид для навигации по дням | Must | 12 | BTE-004 | 1 |
| BTE-008 | Реализовать экспорт данных (CSV/JSON) | Should | 6 | BTE-003 | 1 |
| BTE-009 | Добавить настройки приватности | Should | 4 | BTE-001 | 1 |
| BTE-010 | Создать onboarding для новых пользователей | Should | 8 | BTE-004 | 1 |
| **PHASE 2: Cloud & Premium** |
| BTE-011 | Разработать backend API для синхронизации | Must | 20 | BTE-003 | 2 |
| BTE-012 | Реализовать аутентификацию пользователей | Must | 12 | BTE-011 | 2 |
| BTE-013 | Создать систему облачного хранения | Must | 16 | BTE-011, BTE-012 | 2 |
| BTE-014 | Добавить синхронизацию между устройствами | Must | 14 | BTE-013 | 2 |
| BTE-015 | Реализовать премиум-функции (аналитика) | Should | 24 | BTE-013 | 2 |
| BTE-016 | Создать систему подписок и платежей | Should | 20 | BTE-012 | 2 |
| BTE-017 | Добавить уведомления и лимиты времени | Could | 12 | BTE-015 | 2 |
| BTE-018 | Реализовать сравнительную аналитику | Could | 16 | BTE-015 | 2 |
| BTE-019 | Создать API для интеграций | Could | 18 | BTE-011 | 2 |
| BTE-020 | Добавить командную аналитику (B2B) | Won't | 32 | BTE-013 | 3 |

## Sprint Planning

### Sprint 1 (2 недели) - Foundation
- BTE-001: Создать базовую структуру расширения браузера (8h)
- BTE-002: Реализовать отслеживание активности вкладок (12h)
- BTE-003: Создать систему локального хранения данных (6h)
**Total: 26h**

### Sprint 2 (2 недели) - Core UI
- BTE-004: Разработать UI для отображения статистики (16h)
- BTE-005: Реализовать группировку по доменам (8h)
- BTE-009: Добавить настройки приватности (4h)
**Total: 28h**

### Sprint 3 (2 недели) - Analytics
- BTE-006: Создать детальный просмотр по страницам (10h)
- BTE-007: Добавить календарный вид для навигации по дням (12h)
- BTE-008: Реализовать экспорт данных (6h)
**Total: 28h**

### Sprint 4 (2 недели) - Polish
- BTE-010: Создать onboarding для новых пользователей (8h)
- Testing & Bug fixes (20h)
**Total: 28h**

## Technical Dependencies

### Browser APIs Required
- `chrome.tabs` - для отслеживания активных вкладок
- `chrome.storage.local` - для локального хранения
- `chrome.alarms` - для периодических задач
- `chrome.runtime` - для фоновых скриптов

### Data Structure
```json
{
  "sessions": {
    "2024-01-15": {
      "youtube.com": {
        "totalTime": 7200,
        "pages": {
          "https://youtube.com/watch?v=123": 3600,
          "https://youtube.com/feed": 3600
        }
      }
    }
  }
}
```

### Performance Considerations
- Максимальный размер локального хранилища: 10MB
- Периодическая очистка старых данных (>90 дней)
- Оптимизация запросов к storage API
- Lazy loading для больших объемов данных

## Definition of Done
- [ ] Код написан и протестирован
- [ ] UI адаптивен и работает на всех поддерживаемых браузерах
- [ ] Данные корректно сохраняются и загружаются
- [ ] Производительность соответствует требованиям (<2s загрузка)
- [ ] Privacy policy и Terms of Service обновлены
- [ ] Документация для пользователей создана
